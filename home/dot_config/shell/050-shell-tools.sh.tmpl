# Shell Tools
# Integration with modern shell enhancement tools

# ─────────────────────────────────────────────────────────────────────────────
# zoxide - Smarter cd command
# ─────────────────────────────────────────────────────────────────────────────
if command -v zoxide &> /dev/null; then
  eval "$(zoxide init zsh)"
  # Aliases: z (jump), zi (interactive)
fi

# ─────────────────────────────────────────────────────────────────────────────
# atuin - Enhanced shell history
# ─────────────────────────────────────────────────────────────────────────────
if command -v atuin &> /dev/null; then
  eval "$(atuin init zsh)"
  # Press Ctrl+R for enhanced history search
fi

# ─────────────────────────────────────────────────────────────────────────────
# fzf - Fuzzy finder
# ─────────────────────────────────────────────────────────────────────────────
if command -v fzf &> /dev/null; then
  # Load fzf keybindings and completion
  source <(fzf --zsh)

  # Use fd for fzf if available (respects .gitignore)
  if command -v fd &> /dev/null; then
    export FZF_DEFAULT_COMMAND='fd --type f --hidden --follow --exclude .git'
    export FZF_CTRL_T_COMMAND="$FZF_DEFAULT_COMMAND"
    export FZF_ALT_C_COMMAND='fd --type d --hidden --follow --exclude .git'
  fi

  # fzf appearance
  export FZF_DEFAULT_OPTS='
    --height=40%
    --layout=reverse
    --border
    --info=inline
    --preview-window=right:50%:wrap
  '
fi
